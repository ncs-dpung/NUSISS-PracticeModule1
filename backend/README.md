# Getting Started

### Specification
- Spring Boot 3.2.2
- Java 17

### Environment Setup
1. Install OpenJDK Java 17 and Maven (3.9.0 or later will be fine, others not sure) globally
3. Setup environment variable and add into path

### Install Lombok in IDE
1. Intellij Community Version

    Settings > Plugins > Lombok > Install > Restart IDE


2. Eclipse / STS
- https://projectlombok.org/setup/eclipse


### Run Docker (Recommended)
1. To build the images if the images do not exist and starts the containers:
```agsl
    docker-compose up
```

>Backend and MySQL server will be started up. Database will be initialized with SQL scripts in `db` folder. The scripts will be run in alphabetic order. Just in case, please name the scripts in `db` folder starting with number in sequence.

2. To access schema or data in MySQL server, choose one of the options:
>Please refer to the properties file if there is any changes on the credentials or database setup.

   - A. Option 1: Use database design tools with GUI, e.g. MySQL Workbench, DBeaver, etc.
   ```
   ...Default settings...
   
   Host: 127.0.0.1
   database: inventory_db
   username: user123
   password: pwd124
   ```
   - B. Option 2: Use Docker Desktop
   
   ```
   STEP 1:
   Select Containers> Unfold nusiss-practicemodule1 container> Select the db container> Select Exec
   
   STEP 2: 
   mysql -u user123 -p inventory_db
   Enter password: pwd123
   ...
   exit
   ```
   - C. Option3: Use command line.
   ```
   docker exec -it <db-container-name> sh
   mysql -u user123 -p inventory_db
   Enter password: pwd123
   ...
   exit
   ```
  
### Access API

- http://localhost:8080 + your API endpoint

Only if seeing any login page at localhost:8080,
- username: user
- password: **random string generated by server (check log) 

```agsl
    Example log: Using default security password: ce6c3d39-8f20-4a41-8e01-803166bb99b6
```
### API Endpoint Documentation - Swagger
 - http://localhost:8080/swagger-ui.html

### Run Backend Application in Local (Alternative)
1. [Setup Hibernate Database](#setup-and-access-hibernate-database)
2. Build and run SpringBoot Application
```agsl
    cd backend
    mvn clean install -DskipTests
    java -jar ./target/backend-0.0.1-SNAPSHOT.jar
```

### Setup and Access Hibernate Database
1. Navigate to backend > src > main > resources > application.properties
2. Uncommented the following:

```agsl
#spring.datasource.url=jdbc:h2:mem:testdb
#spring.datasource.driverClassName=org.h2.Driver
#spring.datasource.username=sa
#spring.datasource.password=password
#spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
#spring.h2.console.enabled=true
#spring.h2.console.path=/h2-console
```
3. Commented properties under database configuration section
4. To access the database, http://localhost:8080/h2-console

### Reference Documentation
For further reference, please consider the following sections:

* [Official Apache Maven documentation](https://maven.apache.org/guides/index.html)
* [Spring Boot Maven Plugin Reference Guide](https://docs.spring.io/spring-boot/docs/3.2.2/maven-plugin/reference/html/)
* [Create an OCI image](https://docs.spring.io/spring-boot/docs/3.2.2/maven-plugin/reference/html/#build-image)
* [SpringBoot 3](https://spring.io/projects/spring-boot)
* [Swagger - OpenAPI Specification](https://swagger.io/specification/v3/)
* [Swagger - Medium](https://medium.com/@f.s.a.kuzman/using-swagger-3-in-spring-boot-3-c11a483ea6dc)
* 




